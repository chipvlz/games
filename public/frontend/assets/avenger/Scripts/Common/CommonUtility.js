CommonUtility=new function(){this.GetLocalStorage=function(keyName){return localStorage.getItem(keyName);}
this.SetLocalStorage=function(keyname,value){localStorage.setItem(keyname,value);}
this.UniqueArrays=function(arrayIn){var seen={};var out=[];var len=arrayIn.length;var j=0;for(var i=0;i<len;i++){var item=arrayIn[i];if(seen[item]!==1){seen[item]=1;out[j++]=item;}}
return out;};this.PreloadImages=function(source){var image=new Image();image.src=source;};this.ReSizeRightObject=function(container,w,m){container.set({x:m-w});return container;};this.ConvertNumber=function(number,name,digit,a){try{var maps=Config.MiniNumber1;var panel=new createjs.Container();if(!number)
number=0;var fnum=digit?this.parseMoney(number):number.toString(),l=0;;for(var i=0;i<fnum.length;i++){var x=fnum[i]=='.'?10:fnum[i]=='x'?11:parseInt(fnum[i]),map=maps[x];var p=new createjs.Rectangle(map.s,0,map.w,map.h);var m=new createjs.Bitmap(App.getResourceItem(name));m.set({sourceRect:p,x:l});panel.addChild(m);l+=map.w;}
panel.set({size:l});return panel;}catch(er){console.log(er);return new createjs.Container();}};this.GetData=function(url,param,callBack,failCallback){try{$.ajax({type:'GET',url:url,processData:true,data:param,contentType:"application/json; charset=utf-8",dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},cache:false,success:function(data){if(typeof callBack=='function')
callBack(data);},error:function(xhr,ajaxOptions,thrownError){if(xhr.status===200){if(typeof callBack=='function')
callBack(xhr.responseText);}else{console.log("Error:",xhr.responseText);if(typeof failCallback=='function')
failCallback(xhr);}}});}
catch(err){alert(err);}};this.PostData=function(url,param,callBack,failCallback){try{$.ajax({type:"POST",url:url,data:JSON.stringify(param),contentType:"application/json; charset=utf-8",dataType:"json",cache:false,crossDomain:true,xhrFields:{withCredentials:true},success:function(data){if(typeof callBack=='function')
callBack(data);},error:function(xhr,ajaxOptions,thrownError){if(xhr.status===200){if(typeof callBack=='function')
callBack(xhr.responseText);}else{console.log("Error:",xhr.responseText);if(typeof failCallback=='function')
failCallback(xhr);}}});}
catch(err){alert(err);}};this.ScrollTop=function(){$("html:not(:animated),body:not(:animated)").animate({scrollTop:0},'slow');};this.ScrollBottom=function(){$("html:not(:animated),body:not(:animated)").animate({scrollTop:EbankUtility.DocumentHeght()},'slow');};this.ValidateEmail=function(_email){var filter=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return filter.test(_email);};this.ValidateOnlyLetter=function(_text){var filter=/^[a-zA-Z]+$/;return filter.test(_text);};this.ValidateLetter=function(_text){var filter=/^[a-zA-Z0-9]+$/;return filter.test(_text);};this.ValidateLetterPassword=function(_text){var filter=/^[a-zA-Z0-9\.\_!@#$%^&*()-+=]+$/;return filter.test(_text);};this.CheckPassword=function(_text){var validated=true;if(_text.length<8)
validated=false;if(!/\d/.test(_text))
validated=false;if(!/[a-z]/.test(_text))
validated=false;if(/[^0-9a-z]/.test(_text))
validated=false;return validated;};this.ValidateUserName=function(_text){var filter=/^[a-zA-Z0-9._]+$/;return filter.test(_text);};this.ValidateNumberOnly=function(_text){var filter=/^[0-9]+$/;return filter.test(_text);};this.InputExtender=function(id,type){var val=$('#'+id).val();var str='';switch(type){case 0:for(var index=0;index<val.length;index++){if(EbankUtility.ValidateLetter(val[index]))
str+=val[index];}
$('#'+id).val(str);break;case 1:for(var index=0;index<val.length;index++){if(EbankUtility.ValidateNumberOnly(val[index]))
str+=val[index];}
$('#'+id).val(str);break;case 2:for(var index=0;index<val.length;index++){if(EbankUtility.ValidateOnlyLetter(val[index]))
str+=val[index];}
$('#'+id).val(str);break;case 3:for(var index=0;index<val.length;index++){if(EbankUtility.ValidateLetterPassword(val[index]))
str+=val[index];}
$('#'+id).val(str);break;case 4:for(var index=0;index<val.length;index++){if(EbankUtility.ValidateUserName(val[index]))
str+=val[index];}
$('#'+id).val(str);break;}};this.FormatNumber=function(_str){_str+='';x=_str.split(',');x1=x[0];x2=x.length>1?','+x[1]:'';var rgx=/(\d+)(\d{3})/;while(rgx.test(x1))x1=x1.replace(rgx,'$1'+'.'+'$2');var result=(x1+x2).split('.');if(result.length<=1)return x1+x2;return result[0]+'.'+parseInt(result[1].length>2?result[1].substr(0,2):result[1]);};this.FormatNumberRate=function(_str){if(parseFloat(_str)>100)
_str=100;_str+='';x=_str.split(',');x1=x[0];x2=x.length>1?','+x[1]:'';var rgx=/(\d+)(\d{3})/;while(rgx.test(x1))x1=x1.replace(rgx,'$1'+'.'+'$2');var result=(x1+x2).split('.');if(result.length<=1)return x1+x2;return result[0]+'.'+parseInt(result[1].length>2?result[1].substr(0,2):result[1]);};this.TagLeftOffset=function(objId){var offset=$('#'+objId).offset();return offset.left;};this.TagTopOffset=function(objId){var offset=$('#'+objId).offset();return offset.top;};this.FaceBookProxy=function(_successMethod){$('#imgFacebook').attr('src','https://www.facebook.com/images/loaders/indicator_black.gif?'+new Date().getDate());_successMethod($('#imgFacebook').width(),$('#imgFacebook').height());};this.SetCookie=function(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString();}else var expires="";document.cookie=name+"="+value+expires+"; path=/";}
this.GetCookie=function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}return null;}
this.DeleteCookie=function(name){this.SetCookie(name,"",-1);};this.jSonToDate=function(value){value=value.replace('/Date(','');value=value.replace(')/','');var expDate=new Date(parseInt(value));return expDate;};this.jSonDateToString=function(value,option){if(typeof(option)=='undefined'){option=0;}
var expDate=new Date(value);var _day=expDate.getDate();var _month=expDate.getMonth()+1;var _year=expDate.getFullYear();var _hour=expDate.getHours();var _minute=expDate.getMinutes();var _second=expDate.getSeconds();if(_day<10)_day="0"+_day;if(_month<10)_month="0"+_month;if(_hour<10)_hour="0"+_hour;if(_minute<10)_minute="0"+_minute;if(_second<10)_second="0"+_second;if(_year<=1900||_year>=9000)return '';switch(option){case 0:return _day+'/'+_month+'/'+_year+' '+_hour+':'+_minute+':'+_second;break;case 1:return _day+'/'+_month+'/'+_year;break;case 2:return _hour+':'+_minute+':'+_second+' '+_day+'/'+_month+'/'+_year;break;case 3:return _year+'/'+_month+'/'+_day+' '+_hour+':'+_minute+':'+_second;break;case 4:return _year+'/'+_month+'/'+_day;break;case 5:return _day+'h'+_minute;break;case 6:return _day+'/'+_month+'/'+_year+' '+_hour+':'+_minute;break;default:return expDate.toString();break;};};this.CheckOnlyNumber=function(obj,e){var whichCode=(window.Event&&e.which)?e.which:e.keyCode;if(whichCode==9)return true;if((whichCode>=48&&whichCode<=57)||whichCode==8){var n=obj.value.replace(/,/g,"");if(whichCode==8){if(n.length!=0)
n=n.substr(0,n.length-1);}
if(parseFloat(n)==0)n='';return true;}
e.returnValue=false;return false;};this.formatMoney=function(argValue){argValue=parseInt(argValue);var _comma=(1/2+'').charAt(1);var _digit=',';if(_comma=='.'){_digit='.';}
var _sSign="";if(argValue<0){_sSign="-";argValue=-argValue;}
var _sTemp=""+argValue;var _index=_sTemp.indexOf(_comma);var _digitExt="";if(_index!=-1){_digitExt=_sTemp.substring(_index+1);_sTemp=_sTemp.substring(0,_index);}
var _sReturn="";while(_sTemp.length>3){_sReturn=_digit+_sTemp.substring(_sTemp.length-3)+_sReturn;_sTemp=_sTemp.substring(0,_sTemp.length-3);}
_sReturn=_sSign+_sTemp+_sReturn;if(_digitExt.length>0){_sReturn+=_comma+_digitExt;}
return _sReturn;};this.parseMoney=function(money){if(money==undefined)return '';var strMoney=money.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")
return strMoney;};this.parseIntMoney=function(moneyStr){if(moneyStr===undefined||moneyStr===null||moneyStr==='')return 0;var money=parseInt(moneyStr.replace(/\./g,''));return money;};this.random=function(min,max){if(min<0){return parseInt(min+Math.random()*(Math.abs(min)+max));}else{return parseInt(min+Math.random()*max);}};this.HTMLentities=function(texte){return String(texte).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&amp;/g,'&');};this.ConvertFileLength=function(length){if(length/1048576>1)
return this.FormatNumber(parseInt(length/1048576))+"MB";return length/1024>1?this.FormatNumber(length/1024)+"KB":this.FormatNumber(length)+"B";};this.random=function(min,max){if(max<min){return parseInt(max+Math.random()*(min-max+1));}else{return parseInt(min+Math.random()*(max-min+1));}}}